<!-- NAV -->
<nav class="nav">
  <div class="container nav-inner">
    <div class="badge">Portfolio</div>
    <div>
      <a href="#inicio">In√≠cio</a>
      <a href="#sobre">Sobre</a>
      <a href="#expertise">Expertise</a>
      <a href="#projetos">Projetos</a>
      <a href="#contato">Contato</a>
      <a [href]="github" target="_blank" rel="noopener noreferrer">GitHub ‚Üó</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<header id="inicio" class="hero container">
  <div class="badge">{{ location }}</div>
  <h1>{{ name }}</h1>
  <div class="badge" style="margin: 8px 0 6px">{{ title }}</div>
  <p>{{ aboutShort }}</p>
  <div style="display: flex; gap: 12px; margin-top: 18px; flex-wrap: wrap">
    <a
      class="btn primary"
      [href]="github"
      target="_blank"
      rel="noopener noreferrer"
      >Visitar GitHub</a
    >
    <a class="btn" [href]="cvPath" download>Baixar CV (PDF)</a>
  </div>
</header>

<!-- SOBRE -->
<section id="sobre" class="section">
  <div class="container grid cols-3">
    <div class="panel" style="grid-column: span 2">
      <h2 style="margin: 0 0 8px">Sobre mim</h2>
      <p style="color: var(--muted); line-height: 1.7">{{ aboutLong }}</p>
    </div>

    <div class="panel">
      <h3 style="margin-top: 0">Contato</h3>
      <p style="margin: 8px 0">
        üìß
        <a
          [href]="'mailto:' + email"
          style="color: var(--text); text-decoration: none"
          >{{ email }}</a
        >
      </p>
      <p style="margin: 8px 0">
        üì±
        <a
          [href]="whatsappLink"
          target="_blank"
          style="color: var(--text); text-decoration: none"
          >{{ phone }}</a
        >
      </p>
      <p style="margin: 8px 0">
        üîó
        <a
          [href]="github"
          target="_blank"
          rel="noopener noreferrer"
          style="color: var(--text); text-decoration: none"
          >github.com/jhonatan09</a
        >
      </p>
    </div>
  </div>
</section>

<!-- EXPERTISE -->
<section id="expertise" class="section">
  <div class="container grid cols-3">
    <div class="panel" *ngFor="let card of expertiseCards">
      <h3 style="margin-top: 0">{{ card.title }}</h3>
      <ul class="muted" style="margin: 0; padding-left: 18px">
        <li *ngFor="let item of card.items">{{ item }}</li>
      </ul>
    </div>
  </div>
</section>

<!-- PROJETOS -->
<section id="projetos" class="section">
  <div class="container">
    <div class="panel" style="margin-bottom: 18px">
      <h2 style="margin: 0">Projetos em Destaque</h2>
      <p style="color: var(--muted)">
        Clique em ‚ÄúPreview‚Äù para ver dentro da p√°gina (pode abrir em nova aba
        caso o site bloqueie iframe).
      </p>
    </div>

    <div class="grid cols-3">
      <div class="card" *ngFor="let p of projects">
        <div class="thumb">
          <img
            [src]="getPreview(p.url)"
            alt="Preview de {{ p.title }}"
            loading="lazy"
            (error)="onImgError($event)"
          />
        </div>
        <div class="body">
          <h3>{{ p.title }}</h3>
          <p>{{ p.desc }}</p>
          <div class="tags">
            <span class="tag" *ngFor="let t of p.tags">{{ t }}</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 6px">
            <button class="btn" (click)="openPreview(p)">Preview</button>
            <a
              class="btn"
              [href]="p.url"
              target="_blank"
              rel="noopener noreferrer"
              >Abrir em nova aba ‚Üó</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CONTATO -->
<section id="contato" class="section">
  <div class="container panel" style="text-align: center">
    <h2 style="margin: 0 0 6px">Vamos conversar?</h2>
    <p style="color: var(--muted); margin: 0 0 16px">
      Aberto a oportunidades como Frontend (React/Next/Angular). Entre em
      contato por e-mail, GitHub ou WhatsApp.
    </p>
    <div
      style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap"
    >
      <a class="btn primary" [href]="'mailto:' + email">Enviar e-mail</a>
      <a class="btn" [href]="github" target="_blank" rel="noopener noreferrer"
        >GitHub</a
      >
      <a
        class="btn"
        [href]="whatsappLink"
        target="_blank"
        rel="noopener noreferrer"
        >WhatsApp</a
      >
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  ¬© {{ currentYear }} {{ name }} ‚Äî Feito com Angular 12
</footer>

<!-- MODAL DE PREVIEW -->
<div class="backdrop" *ngIf="previewOpen" (click)="closePreview()">
  <div
    class="modal"
    *ngIf="selectedProject as p"
    (click)="$event.stopPropagation()"
  >
    <header>
      <strong>{{ p.title }}</strong>
      <div style="display: flex; gap: 8px">
        <a class="btn" [href]="p.url" target="_blank" rel="noopener noreferrer"
          >Abrir em nova aba ‚Üó</a
        >
        <button class="btn" (click)="closePreview()">Fechar</button>
      </div>
    </header>
    <div class="content">
      <iframe [src]="p.url | safeUrl"></iframe>
    </div>
  </div>
</div>
